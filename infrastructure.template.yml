{% set domain = 'theserverlessway.com' %}

Modules:
  - path: modules/dns
    template: hosted_zone
    vars:
      name: {{ domain }}
  - path: modules/dns
    template: google_mx_records
    vars:
      source: {{ domain }}
      hostedZone: {{ domain }}
  - path: modules/dns
    template: txt
    vars:
      source: {{ domain }}
      hostedZone: {{ domain }}
      targets:
        - "v=spf1 include:_spf.google.com ~all"
        - "google-site-verification=3MV92Rf-ngymkC61LH11tlC24n4-HBa1fH6zqYe7ZFU"
  - path: modules/cloudfront-web-bucket
    vars:
      domain: {{ domain }}